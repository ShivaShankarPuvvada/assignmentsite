<!DOCTYPE html>
{% extends "base.html" %}
{% load static %}
{% load rest_framework %}


{% block main_content %}
<div class="container">
    <div class="jumbotron">
        <h3>Wishlist Details</h3>
        <ul>
            <li>Wishlist Name: {{ wishlist.name }}</li>
            <li>Created at: {{ wishlist.created_at }}</li>
            <li>Updated at: {{ wishlist.updated_at }}</li>
        </ul>
        <hr>
        <h3>Update wishlist:</h3>
        <form id="myform" action="{% url 'port:update_delete_wishlist' wishlist_id=wishlist.id %}" onsubmit="myFunction()" method="PUT" >
            {% csrf_token %}
            {% render_form serializer %}
            <input type="submit" value="Update" class="btn btn-primary">
        </form>
    </div>
</div>
<script>
function myFunction() {
    $.ajax({
        url: "{% url 'port:update_delete_wishlist' wishlist_id=wishlist.id %}",
        type: 'PUT',
        data: $('#myform').serializeArray(),
        success: function() { alert('PUT completed'); }
    });
}
</script>
{% endblock %}